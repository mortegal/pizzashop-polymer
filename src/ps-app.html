<link rel="import" href="/bower_components/polymer/polymer-element.html">
<link rel="import" href="./styleguide/ps-styleguide.html">
<link rel="import" href="./ps-app-config.html">
<link rel="import" href="./scene/ps-app-scene.html">
<link rel="import" href="./ps-app-routing.html">

<!-- 
  Entry component of the app. It is in charge
  of importing global files like the styleguide
  or the configuration module and rendering the
  main layout of the app and its base router.
-->

<dom-module id="ps-app">
  <template>

    <ps-app-scene>
      <ps-app-routing slot="content"></ps-app-routing>
    </ps-app-scene>

  </template>
  <script>

    (function () {
      /**
       * Initialize location hash on window load since the
       * router doesn't do it itself
       */
      window.onload = function () {
        window.location.hash = (window.location.hash || '#/');
      }
      /**
       * Polymer has some configuration
       * and for it to work porperly we must
       * set it before any element is rendered.
       */
      Polymer.setPassiveTouchGestures(true);
      class PsApp extends Polymer.Element {
        static get is() {return 'ps-app';}
      }
      customElements.define(PsApp.is, PsApp);
    }());

  </script>
</dom-module>